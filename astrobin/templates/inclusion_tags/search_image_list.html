{% load i18n %}
{% load tags %}

<div class="thumbnail-list clear">
{% for search_result in image_list %}
    {% if search_result.object.is_stored %}
    <div style="float:left; width: {{thumbnail_size}}px; height: {{thumbnail_size}}px; padding:2px;">
        <a href="{% url image_detail search_result.object.id %}{% if search_result.object.is_solved %}?mod=solved{% endif %}">
            {% if search_result.object.is_solved %}
            <img class="solved-badge" src="/static/images/solved_badge.gif" alt="" />
            {% endif %}
            <img src="{% if search_result.object.is_stored %}http://astrobin_images.{{s3_url}}/{{search_result.object.filename}}_thumb.png{% else %}/static/icons/iconic/orange/waiting_thumbnail.png{% endif %}"
                 class="capty thumbnail"
                 name="#capty-content-{{search_result.object.id}}"
                 alt="{{search_result.object.title|default:_("(no title)")}}"
                 width="{{thumbnail_size}}" height="{{thumbnail_size}}" />
        </a>
        <div id="capty-content-{{search_result.object.id}}">
            {% ifequal sort '-integration' %}
                {% trans "Integration" %}: {{search_result.integration|seconds_to_hours}} {% trans "hours" %}
            {% endifequal %}

            {% ifequal sort '-rating' %}
                {{search_result.rating}} {% trans "stars" %}
            {% endifequal %}

            {% ifequal sort '-uploaded' %}
                {{search_result.object.uploaded|ago}}
            {% endifequal %}

            {% ifequal sort '-acquired' %}
                {{search_result.last_acquisition_date}}
            {% endifequal %}

            {% if not sort %}
                {{search_result.object.title|escape|truncatechars:25}}
            {% endif %}
            <br/>
            {% with search_result.object.user.username|truncatechars:24 as user %}
            {% url user_page user as user_page %}
            {% blocktrans %} by <a href="{{user_page}}">{{user}}</a>{% endblocktrans %}
            {% endwith %}
        </div>
    </div>
    {% endif %}
{% empty %}
<p>{% trans "No images" %}.</p>
{% endfor %}
</div>

{% include 'pagination.html' %}
