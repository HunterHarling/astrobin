{% load i18n %}
{% load tags %}

<div class="thumbnail-list clear">
{% for image in images.object_list %}
    <div style="float:left; width: {{thumbnail_size}}px; height: {{thumbnail_size}}px; padding:2px;">
        <a href="{{image.get_absolute_url}}/">
            <img src="{% if image.is_stored %}http://astrobin_images.{{s3_url}}/{{image.filename}}_thumb.png{% else %}/static/icons/iconic/orange/waiting_thumbnail.png{% endif %}"
                 class="capty thumbnail"
                 name="#capty-content-{{image.id}}"
                 alt="{{image.title|default:_("(no title)")}}"
                 width="{{thumbnail_size}}" height="{{thumbnail_size}}" />
        </a>
        <div id="capty-content-{{image.id}}">
            {{image.title|default:_("(no title)")}}<br/>
            {% with image.user.username as user %}
            {% url user_page user as user_page %}
            {% blocktrans %} by <a href="{{user_page}}">{{user}}</a>{% endblocktrans %}, {{image.uploaded|ago}}
            {% endwith %}
        </div>
    </div>
{% empty %}
<p>{% trans "No images" %}.</p>
{% endfor %}
</div>

<div class="pagination">
    <span class="step-links">
        {% if images.has_previous %}
            <a href="?p={{images.previous_page_number}}{% if query %}&amp;q={{query}}{% endif %}#pag_anchor">&laquo; {% trans "newer" %}</a>
        {% endif %}
        {% if images.has_previous and images.has_next %}|{% endif %}
        {% if images.has_next %}
            <a href="?p={{images.next_page_number}}{% if query %}&amp;q={{query}}{% endif %}#pag_anchor">{% trans "older" %} &raquo;</a>
        {% endif %}
    </span>
</div>
