{% load i18n %}
{% load tags %}

<div class="thumbnail-list clear">
{% for image in images.object_list %}
    <div class="ic_container"
         style="float:left; width: {{thumbnail_size}}px; height: {{thumbnail_size}}px; padding:2px;">
        <a href="{{image.get_absolute_url}}/">
            <img src="{% if image.is_stored %}http://astrobin_images.{{s3_url}}/{{image.filename}}_thumb.png{% else %}/static/icons/iconic/orange/waiting_thumbnail.png{% endif %}"
                 class="thumbnail"
                 alt="{{image.title|default:_("(no title)")}}"
                 width="{{thumbnail_size}}" height="{{thumbnail_size}}" />
        </a>
        <a href="{{image.get_absolute_url}}/"><div class="overlay" style="display:none;"></div></a>
        <div class="ic_caption">
            <p class="ic_category">
                <a href="{% url user_page image.user.username %}">{{image.user.username}}</a>
            </p>
            <h3><a href="{{image.get_absolute_url}}/">{{image.title|escape|default:_("(no title)")}}</a></h3>
            <p class="ic_text"><a href="{{image.get_absolute_url}}/">{{image.description|truncatewords:10|escape}}</a></p>
        </div>
    </div>
{% empty %}
<p>{% trans "No images" %}.</p>
{% endfor %}
</div>

<div class="pagination">
    <span class="step-links">
        {% if images.has_previous %}
            <a href="?page={{images.previous_page_number}}#recent">&laquo; {% trans "newer" %}</a>
        {% endif %}
        {% if images.has_previous and images.has_next %}|{% endif %}
        {% if images.has_next %}
            <a href="?page={{images.next_page_number}}#recent">{% trans "older" %} &raquo;</a>
        {% endif %}
    </span>
</div>
