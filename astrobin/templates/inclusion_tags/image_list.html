{% load i18n %}
{% load tags %}

<ul class="thumbnails astrobin-thumbnails">
{% for image in image_list %}
    {% random_id %}
    {% if image.is_stored %}
    <li class="thumbnail astrobin-thumbnail">
        <a href="{% url image_detail image.id %}">
            <img src="{% if image.is_stored %}http://astrobin_images.{{s3_url}}/{{image.filename}}{% if thumbnail_size == 90 %}_small_thumb{{image.original_ext}}{% else %}_thumb.png{% endif %}{% else %}/static/icons/iconic/orange/waiting_thumbnail.png{% endif %}"
                 class="{% if thumbnail_size == 184 %}capty {% endif %}"
                 id="#capty-content-{{image.id}}-{{randomid}}"
                 alt="{{image.title|default:_("(no title)")}}"
                 width="{{thumbnail_size}}" height="{{thumbnail_size}}" />
        </a>
        {% if thumbnail_size == 184 %}
        <div class="capty-content" id="capty-content-{{image.id}}-{{randomid}}">
            {{image.title|escape|truncatechars:23}}
            <br/>
            {% with image.user.username|truncatechars:24 as user %}
            {% url user_page user as user_page %}
            {% blocktrans %} by <a href="{{user_page}}">{{user}}</a>{% endblocktrans %}
            {% endwith %}
        </div>
        {% endif %}
    </li>
    {% endif %}
{% empty %}
    <li>{% trans "No images" %}.</li>
{% endfor %}
</ul>

{% if paginate %}
    {% include 'pagination.html' %}
{% endif %}
