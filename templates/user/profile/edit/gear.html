{% extends 'base.html' %}
{% load i18n %}

{% block content %}
    {% include 'profile-edit-menu.html' %}
    <div class="sided-main-content">
        <h2>{% trans "Edit your astrophotography gear" %}</h2>
        <form method="post" action="/profile/save/gear/">{% csrf_token %}
            {{form.as_p}}
            <noscript>
                <p class="hint">
                {% blocktrans %}
                * use a comma to separate the values.
                {% endblocktrans %}
                </p>
            </noscript>
            <p><input class="button submit-button" type="submit" value="{% trans "Save" %}" /></p>
        </form>
    </div>  
{% endblock %}

{% block extra_js %}
    <script language="javascript">
    $(document).ready(function() {
        var startText = '{% trans "Enter partial name and wait for the suggestions!" %}';
        var emptyText = '{% trans "No results. Press TAB to add it!" %}';
        {% autoescape off %}
        {% for key, value in prefill_dict.items %}
        $('#id_{{key}}').autoSuggest('/autocomplete/{{key}}/',
            {asHtmlID: '{{key}}',
            selectedItemProp: 'name',
            searchObjProps: 'name',
            preFill: {{value}},
            selectedItemProp: 'name',
            selectedValuesProp: 'name',
            startText: startText,
            emptyText: emptyText});
        {% endfor %}
        {% endautoescape %}
    });
    </script>
{% endblock %}

